<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Web UI Kit &amp; Dashboard Template based on Bootstrap">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, web ui kit, dashboard template, admin template">

	<link rel="shortcut icon" href="img/icons/icon-48x48.png" />

	<title>demo</title>
	<link href="css/app.css" rel="stylesheet">

</head>

<body>
	<div class="wrapper">
		<nav id="sidebar" class="sidebar">
			<div class="sidebar-content js-simplebar">
			<a class="sidebar-brand" href="index.html">
	          <span class="align-middle">电路监控</span>
	        </a>

			<ul class="sidebar-nav">			
				<li class="sidebar-item active">
					<a class="sidebar-link" href="index.html">
		              <i class="align-middle" data-feather="sliders"></i> <span class="align-middle">实时监控</span>
		            </a>
				</li>
	
				<li class="sidebar-item">
					<a class="sidebar-link" href="pages-data.html">
			          <i class="align-middle" data-feather="bar-chart-2"></i> <span class="align-middle">数据报表</span>
			        </a>
				</li>
	
				<li class="sidebar-item">
					<a class="sidebar-link" href="pages-setting.html">
			          <i class="align-middle" data-feather="settings"></i> <span class="align-middle">综合设置</span>
			        </a>
				</li>
			</ul>
			</div>
		</nav>

		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg">
				<a class="sidebar-toggle d-flex">
		          <i class="hamburger align-self-center"></i>
		        </a>
			</nav>

			<main class="content">
				<div class="container-fluid p-0">

					<div class="row mb-2 mb-xl-3">
						<div class="col-auto d-none d-sm-block">
							<h3><strong>实时监控</strong> </h3>
						</div>
					</div>
					
					<div class="row">
						<div class="col-12">
							<div class="card">
								<div class="card-header">
									<h5 class="card-title">线路电流电压信息</h5>
								</div>
								<div class="table-responsive">
									<table class="table mb-0" id="Etable">
										<thead>
											<tr>
												<th scope="col">线路名称</th>
												<th scope="col">Uab</th>
												<th scope="col">Ubc</th>
												<th scope="col">Uca</th>
												<th scope="col">Ia</th>
												<th scope="col">Ib</th>
												<th scope="col">Ic</th>
												<th scope="col">Pa</th>
												<th scope="col">Pb</th>
												<th scope="col">Pc</th>
												<th scope="col">P0</th>
												<th scope="col">Q0</th>
												<th scope="col">Rate</th>
												<th scope="col">W0</th>
											</tr>
										</thead>
										<tbody>
											<tr >
												<td>1</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
											</tr>
											<tr>
												<td>1</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
											</tr>
											<tr>
												<td>1</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
												<td>Cell</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-12 col-md-6 col-xxl-4  order-1 order-xxl-1">
							<div class="card">
								<div class="card-header">
									<h5 class="card-title mb-0">继电器</h5>
									<table class="table mb-0" id="table-relay">
										<thead>
										<tr>
											<th scope="col">线路名称</th>
											<th scope="col">继电器1</th>
											<th scope="col">继电器2</th>
											<th scope="col">继电器3</th>
										</tr>
										</thead>
										<tbody>
										<tr >
											<td>1</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
										</tr>
										<tr>
											<td>1</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
										</tr>
										<tr>
											<td>1</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<div class="col-12 col-md-6 col-xxl-4  order-2 order-xxl-2">
							<div class="card">
								<div class="card-header">
									<h5 class="card-title mb-0">开关量</h5>
									<table class="table" id="table-switch">
										<thead>
										<tr>
											<th scope="col">线路名称</th>
											<th scope="col">开关量1</th>
											<th scope="col">开关量2</th>
											<th scope="col">开关量3</th>
											<th scope="col">开关量4</th>
										</tr>
										</thead>
										<tbody>
										<tr >
											<td>1</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
										</tr>
										<tr>
											<td>1</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
										</tr>
										<tr>
											<td>1</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
											<td>Cell</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<div class="col-12 col-md-6 col-xxl-4 d-flex order-3 order-xxl-3">
							<div class="card flex-fill">
								<div class="card-header">
									<h5 class="card-title mb-0">日历</h5>
								</div>
								<div class="card-body d-flex">
									<div class="align-self-center w-100">
										<div class="chart">
											<div id="datetimepicker-dashboard"></div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
				</div>
			</main>

			<footer class="footer">
				<div class="container-fluid">
					<div class="row text-muted">
						<div class="col-6 text-left">
							<p class="mb-0">
								<a href="index.html" class="text-muted"><strong>回到首页</strong></a> &copy;
							</p>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</div>

	<script src="js/app.js"></script>




	<!--日历插件-->
	<script>
		$(function() {
			$('#datetimepicker-dashboard').datetimepicker({
				inline: true,
				sideBySide: false,
				format: 'L',
				language:'cn'
			});
		});
	</script>
	
	<script type="text/javascript">
		$(function() {
			getInfo();
			setInterval("getInfo()",3000);
		});
		function getInfo(){
			$.ajax({
				url: '/data/getInfo',
				type: 'POST',
				data: '',
				contentType: 'application/json;charset=utf-8',
				dataType: 'json',
				success: function (o) {
					var tab = $("#Etable")[0];
					var tableRelay = $("#table-relay")[0];
					var tableSwitch = $("#table-switch")[0];
					for (var i = 0; i < o.data.length; i++) {
						var PD194EData = o.data[i];
						tab.rows.item(i+1).cells[0].innerHTML = PD194EData.addressName;
						tab.rows.item(i+1).cells[1].innerHTML = PD194EData.uab;
						tab.rows.item(i+1).cells[2].innerHTML = PD194EData.ubc;
						tab.rows.item(i+1).cells[3].innerHTML = PD194EData.uca;
						tab.rows.item(i+1).cells[4].innerHTML = PD194EData.ia;
						tab.rows.item(i+1).cells[5].innerHTML = PD194EData.ib;
						tab.rows.item(i+1).cells[6].innerHTML = PD194EData.ic;
						tab.rows.item(i+1).cells[7].innerHTML = PD194EData.pa;
						tab.rows.item(i+1).cells[8].innerHTML = PD194EData.pb;
						tab.rows.item(i+1).cells[9].innerHTML = PD194EData.pc;
						tab.rows.item(i+1).cells[10].innerHTML = PD194EData.p0;
						tab.rows.item(i+1).cells[11].innerHTML = PD194EData.q0;
						tab.rows.item(i+1).cells[12].innerHTML = PD194EData.rate;
						tab.rows.item(i+1).cells[13].innerHTML = PD194EData.w0;
						tableRelay.rows.item(i+1).cells[0].innerHTML = PD194EData.addressName;
						tableRelay.rows.item(i+1).cells[1].innerHTML = PD194EData.relay01;
						tableRelay.rows.item(i+1).cells[2].innerHTML = PD194EData.relay02;
						tableRelay.rows.item(i+1).cells[3].innerHTML = PD194EData.relay03;
						tableSwitch.rows.item(i+1).cells[0].innerHTML = PD194EData.addressName;
						tableSwitch.rows.item(i+1).cells[1].innerHTML = PD194EData.switch01;
						tableSwitch.rows.item(i+1).cells[2].innerHTML = PD194EData.switch02;
						tableSwitch.rows.item(i+1).cells[3].innerHTML = PD194EData.switch03;
						tableSwitch.rows.item(i+1).cells[4].innerHTML = PD194EData.switch04;
					}
				}
			})
		}
	</script>

</body>

</html>